<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en" th:replace="~{fragments/layout :: layout('Categories', ~{::section})}">
<head>
    <title>Categories - Admin Panel</title>
</head>
<section>
    <div class="panel fade-in" style="animation-delay:.05s">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;">
            <h2>Categories</h2>
            <a th:href="@{/admin/categories/new}" class="btn primary">Add Category</a>
        </div>
        <div th:if="${#lists.isEmpty(categories)}" class="text-center" style="padding:2rem;color:#666;">
            <p>No categories found. <a th:href="@{/admin/categories/new}">Create your first category</a>.</p>
        </div>
        <div th:unless="${#lists.isEmpty(categories)}" style="display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));">
            <div th:each="category : ${categories}" class="card" style="animation-delay:.1s;">
                <div style="display:flex;justify-content:space-between;align-items:flex-start;">
                    <div>
                        <h3 th:text="${category.name}" style="margin:0 0 .5rem;font-size:1.1rem;">Category Name</h3>
                        <p th:text="${category.description}" style="margin:0 0 1rem;color:#666;font-size:.9rem;">Description</p>
                        <div>
                            <span th:if="${category.active}" style="background:#25d366;color:#fff;padding:.25rem .5rem;border-radius:12px;font-size:.75rem;">Active</span>
                            <span th:unless="${category.active}" style="background:#6c757d;color:#fff;padding:.25rem .5rem;border-radius:12px;font-size:.75rem;">Inactive</span>
                        </div>
                    </div>
                </div>
                <div class="actions" style="margin-top:1rem;">
                    <a th:href="@{/admin/categories/edit/{id}(id=${category.id})}" class="btn outline">Edit</a>
                    <form th:action="@{/admin/categories/delete/{id}(id=${category.id})}" method="post" style="display:inline;" onsubmit="return confirm('Delete this category?');">
                        <input type="hidden" th:if="${_csrf}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <button type="submit" class="btn" style="background:#dc3545;border-color:#dc3545;">Delete</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
</html>
